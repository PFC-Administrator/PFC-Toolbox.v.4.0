
@{
    ViewBag.Title = "Item Single Total";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Item Single Total</h2>

@section scripts{
    <script>
        $(document).ready(function () {
            var startDate_input = $('input[name="startDate"]'); //our date input has the name "date"
            var endDate_input = $('input[name="endDate"]'); //our date input has the name "date"
            var container = $('.bootstrap-iso form').length > 0 ? $('.bootstrap-iso form').parent() : "body";
            var options = {
                format: 'mm/dd/yyyy',
                container: container,
                todayHighlight: true,
                orientation: "top right",
                autoclose: true,
            };
            startDate_input.datepicker(options);
            endDate_input.datepicker(options);
        })

        //### Function to add leading zero(s)
        var UPC = $('#UPC');
        $('#UPC').on('change', function () {
            var result = leadingZeros(UPC.val())
            UPC.val(result);
        });
        
        function leadingZeros(UPC) {
            var s = UPC + ""
            while (s.length < 13) s = "0" + s;
            return s;
        }
        //### END Function to add leading zero(s)
    </script>
}

@*<p style="font-style:italic">Known bug: reports longer than ~6 months will time-out, keep them under 6 months for best results.</p>*@

@using (Ajax.BeginForm("GetItemSingleTotal", "Reports", new AjaxOptions
{
    HttpMethod = "GET",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "Item Results"
}))
{
    <label>Start Date:</label>
    <input class="form-control" id="startDate" name="startDate" placeholder="MM/DD/YYYY" type="text" autocomplete="off" />
    <br />
    <label>End Date:</label>
    <input class="form-control" id="endDate" name="endDate" placeholder="MM/DD/YYYY" type="text" autocomplete="off" />
    <br />
    <label>UPC:</label>
    <input class="form-control" id="UPC" name="UPC" type="text" autocomplete="off" />
    <br />
    <label>Location:</label>
    <br />
    <select class="form-control" id="location" name="location">
        <option value="" disabled selected>Select a location</option>
        <option value="PAL, Both Locations">Both Locations</option>
        <option value="001, La Crosse">La Crosse</option>
        <option value="002, Rochester">Rochester</option>
    </select>
    <br />
    <br />
    <input class="btn btn-primary" type="submit" value="Run Report" />
}

<div id="Item Results"></div>